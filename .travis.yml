# Copyright (c) 2018 LibJ
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/libj
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: iWO+H07IaW5nUtBuac/LNIpD3TawpK/oQsv++uV/b0THCeFLrI6dLpUqlvvpxzxH1yBOtcttw4tWp297+OsK3UcM7lfE925o/K05+zYG1jrOj091SSxfb5DKgSdaYJ69Oe+Ez6coOc5wabZTxdynS6kgLGYM+CdPVVOLVRHaklBTjuNrdQ4AsTJynaezK7Bb+JUtu4HzB0P2J61izS8S5etDV3istry7lzInfCJZj7u2V7gYy84RC5oVyJXQBa9gAKSYJfrIU8dFGYIGJfsojc54yOkUQ9YVftmS5O4HVRin32irIG961+7GunzCVy0wxV4uUExQhL0wYKp2TjTntKNzkcZCMoUKUIQjTsMCDvWUJsvHCp1f+E8R0uM4XuZ+Eo3sLUQb/F7B3xHgwnOakdkmbmqI32ufalB/vp4AcQjhUAO3NfeZsF0rf652MW7PkgOSTxWVZtFZyWwnyQSjNuDmehHwTXIssxUQozZnOeywrrhgFou768V15CYMiq2cn97y3DxPFMjpUpjnjd+u3nIVJqcWz3hP1XHKl0+oLjpVfeya0choXIP8fRfYzheg3C9/W1cL1ySNaBtZwVal4sORlQZNVXX2dX/B1BB5MR5wABPDhWWG0WnDDmwkUapXDCdEd5E86pvTjriwB1cua1kkE+fAcgE/SgmO7l/z2AY=
  - secure: tJiA4gZw2a8kJCVlIHUBaDHOXAOzhOw9QqElWE7Icm0CnnhlzMStIgA220oYA3XL+m9BvhY80/FgH0GpfzQE8IKv3vr740ZUZ2OsePxNLFidYocJt00ezE55tlka+c8R2KWsUHJ2iJ0qfKaDtBvyostHHCuWa3hh+5jh57WoLBKPATVR84L7rcKR1+jgHMBP53RKvUFnGP0MQrUgsBUoBR/E5oXmseCPC6V3RC1OsKqud8o3Gmab01Bbc4OLVM4PursE0GB9cgXJxaDxi4rAcfF7fOTKJkClEF1g5TfqDclWHWttaJZ+/vFeo/EntVLzdFpZy3yCrmATWQSvRTfob/qbtdBhw+qMdKAFWN+9FhlCXMsJlA+i6Dh9WPb88e1Xtmw8toncwdDgHFapDPhGvPb9EZI85GNkw9FBErDxnH/+/mAuke0rXuZcpsAzb4JnmEG4645MMTLpAGIYaSi4te+GuIu7+RKKXm+mXq/9iRAXzI4/4PLR+ENnQv3xU7CFDJeEd9QlmeJKRT5Ug5EoFtXRl3RYOPWuax5uKX8GeefTNy82LQhblPhSaNS6HlOBOTA1kLazRGPoNEXI7EVU3QIyD+ZdRzNP6A0ZwzquXm/0rrCHXsAcCbl+lMY1lcrigw/Si1yOL6oqTilA+vl4SFhJ8OjbUTTbuRP7jVkOVRo=
  - secure: Ptxk260IDtJob7heB8MLGgszo1jvps/JbCgDB8Rv8cfuUvxF1YVmTjHpp8WnA24h2/7ut8Jkr5T+5mk7VCe9NuR1omOVs/f5hNhlof947wRG5RVou138LOWd0mb0UMaOVZyQPArAd8UIO9j/DsJkkBZoaySPVSY8RfnlyhqQ+RfvVbjt1mlmdEumObrjgAV2+svN2lqHajCLIJuf88+Ki23sH6/6VJ6LUK/CgyGfy4Jg7cFld/g09QHYk5XUUknRQb7GzBaQBhm/+nqjg78NVZL5oo8Ik9wnBmyR1XhmZs6oLdenAf7RC7dpy7gbP2vpgciJ+6ugiaw/Fbu0is7K5UAbhWRqK5Vnm/4lD2PjsyhVwlfaQe3Ru1KjgKOSqXZz6kOVTlF3FHUCvXPQWA2w5NHuo0ZTy5ipcPY2pOFJ68iGjHinKtkJ3A/NVEFLIUHwQiVa7lefzuGiFXga1czOWan6NdWbkr3nzRHiMj4iHFxPxp0XiNIrI7KjCpq4mWo6/z8ezXmpwTs+jnJBnPKgiYPffrrKROohoFbHSnLhlkguTM3vQO0EGQlbmJLiQDiJlrDgMDHQ1/W5F4c7dqMQmAP3tQ5Omhj0Ggd3/8K6TYf61VZ6+i4cNpVghnEA5DgtBbqfLOQS90M+lRmI+Zu8zGey+uf2lRaTLX5ROp67Uwk=
  - secure: dit704eIuFhTtibo7W4wDtUzkzAzgbo4C2vvYpoh64hCuLWkh1WJ2mzvKZNzSDRiUZLFqk7kHx9XsoVOJevQdnZTTHzvY83OOzh1I2XGTqVSI/EBK9DdYCNL8ea7orZQNr0STPtIQyDjwMdv+Wwt225w4peO3Irxz/ZvNfwIsf+515n4tZ7QE2Hmm1iduXv5mIaYIqzdzehERqzjaqDLJbAQraUrdABc0JuNqGwaO1fppQ37kP5pABOGrefCWlgzcLwVgsHbTiSYXDRo6ZPx1LajFtoKBBpthFiOD9U9H4kvDD/Hu8Ltqs/4r/meCFzlNMV/g968JK2mPpdCKHu7RJ/TEGQvnUsv9c+uxm3uB/HzZxTGd2IN8IDV7jjhL5CA353WvoZa2iHHla/KuD4ihDA8+12v/MeZLZTsx3+7Vm6MmH1LeC9nhRtJsyxHB8Gzd0Y1m2K09RPCOslUOEoQ4XTmuNsHVxI6kkxq0+qqaX2baDGlhcfr6diorHRSsBo6VsXY8ydAhjuheJ9hP9Au+AYxenIKUadVcYfy1UuAAGTO8kPVFSDuW27sqB1udiAu4hQakm+mdbUBsjrIrx7CENBNgdzrYS+O6TzZ8INUsV24ZGmFYV6mJubCAzzzaSULdDQCrQDcknHwdrqgPN4bzTDFGLgkLnaREA0De5MBrhU=
  - secure: f/ix2GIJBlB0Mxh/t2nyqEL/7TaeodvMsGBccYw3cdYY4Fiz2XYg5glxfmOG45/WvFNzxRv10o4AYrbXjBwpse+euiuyK3HzVn77zTg6d4mTKafsGN07s7a56/hPSGCU5BbBfjIEwx9wcPbWs+R3xdW/apfzDpahMUxizQl7L7mBJhNbfdhJ00VU06mxVUQYg+5yf0bFYf8jI+W6NNx2liSvpIbU6kZiuripW11/GkCnA9oVb5KN3u8HvjFvEsYahyshuA9PFeZpp9nkJW1tBRhk70EI7qDUKTihVFYS+XGrmwf4210wRcyRRhbOW7/fbqTj3tAUqklfG6JYurpZ1+3kXYG0TRIwynE4Ni+EiI/ploaXs7R8FJniKtYnfp6w+h/p1pDEiElgk+C1GBnEqYAK9+0lXhxfq04uyKZh8hxEACaVbAz5h8MkdXyFke3/BAIN3QCkwr9QXeggOJgZt5sfqQ/GJili6gi3B3ialDHJS2ZToBVCDOY2V4Zg5e2kBz44skzeJIwy4fTyPeB3PFhz5kTFIEx1gGGvxFAUNzT443oqUcczvQ/j20OFcz94nv6nw7v8MfDgIAz0wU09J7fKwiOQJTcxv96l1WObf+c462iP2LYPPkMuKReKd47U17MW5mSDWdAOQXOY7kkypQh0p8VUYAHr8ob9+i5pIUM=
  - secure: mcZLyU7PAp8ix34hF4nyV6BWx3eHqijPpf3j511DK6JVrsNaGa9awl3sSWU0opJQpHHdkrPoCEZdOu7dEmHXQtkGdrZIE8SpN4AvubjS5hTXGBkleQ2CW0ifzpP67CzB74yVCzvHyuHqluGKWv5nM3LrPizTedYmfJOGfXYHFhC8nOMMNmTRHBBTsA9UvQ170JoKKNPYAoIRMasrB0sFqANE/xWe7eodL7P8OyyuHKZuqTlZchhJTdOOwkBWQNxLi7AZxLA0tr9CUrj0iAf+S8BODhnHvigkGhUBLmAGSiMv3vigjUXoW285Gn8Ah4OvLN9zUsw303C9bxD6MFilOOyb00msK05N1tsp1W/9Mztwe+nKVKkXWgQExnOm1+gV0wJsWBPGy3JWLRZAayqug77OgO4+7lKZp+jXTK5lipiIxxTSVi5dfh6ja+wVpNQZ7k/nHr6hxSyOWBBhO6dKXZdIqXixTL5NqZDvUR3PBsKhBTndaDkxrxdceOIy091w4IyVwWJM5BnpP9Vm4ygsqT+mipV7oYty6PBaGWOw9iBxP/Eb2Y5v7ijcerFkdwWZm8rOL1N08m9G55ecNhK1NNpsqY7rj2xMaH6Asw2Yv0yETJ/OJc3yO6FARKLjB3T7Gpd6ehlawg8WFz9O3UhzJH+fcPDI5P3ELVCFFAiC+fo=
  - secure: fp9AkTEMAH7CwKDlGNOIp3ySHSaphkRZy6XKa87iHpjcqTGr8JLFTzuzxE9/6cGLlwrurG6hCZ0jES2D0m2esOCmZwSQwMO+vntyIuM8zUgE6vIjXscFEnijQikPfS9zaGlWu3IKS9iDoPqqzuzXIyQdnUOXJXeXd5ynzJpJJ4K6Xy9bNZRqdLUNcSAMsaDbRxGD4VUizIUmzZRXVYS6bZkJ1b+ISymtJyBXmxaiWHl7LTO78X6305jeR36A7DMYsUe5/cCosO7T3kdrmVmRJKPVB30EEKRqZemnBklYfJ7fiOVAspkiOOZa8gZwQ3+9gTZIwCbPKxOsI26/1wdB2+9K+4/k5qh2Ds27KUShyFaeBBFAopF9+zgbOxP/Am0FOYZvJ2lNTlwdXUzYBSoSatDqkyiEjePgjawLMUco1WvBr+Lo3x5bNHc05cXDF+NbUpTJOgjlrriNax6jLyYlAmnxeBZ8h3+h4nnVIh+aeh0us17LVCsGzF38E+5GTLtYNuSD0wx/1y7wCP1up7/GOyogTjsBNwx47jv7TbFm/+3s2nD9M8kxXxrFT0ICs/WQfCdIat8jpZgf64cyNLhz77a9L9uCkjWTMHxEhNQHWrojj8lHuCJpiH1TQKVUPDCj8ncJ3S+mY30EkvNKGHvjKYPIEeYEPSePJNd7al7qr1s=
